import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.RH_Wq4ov.js";var I=t.forwardRef(({transition:e,...s},r)=>{let i={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:e?`clip-path ${e}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return o.jsx("div",{...s,style:i,"data-rcs":"clip-item",ref:r})});I.displayName="ContainerClip";var X=t.forwardRef(({children:e,disabled:s,portrait:r,position:i,transition:a},d)=>{let p={position:"absolute",top:0,width:r?"100%":void 0,height:r?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:r?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:a?`${r?"top":"left"} ${a}`:void 0};return o.jsx("button",{ref:d,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":r?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i,"data-rcs":"handle-container",disabled:s,role:"slider",style:p,children:e})});X.displayName="ThisHandleContainer";var H=({flip:e})=>o.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0}}),ce=({className:e="__rcs-handle-root",disabled:s,buttonStyle:r,linesStyle:i,portrait:a,style:d,...p})=>{let m={display:"flex",flexDirection:a?"row":"column",placeItems:"center",height:"100%",cursor:s?"not-allowed":a?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...d},v={flexGrow:1,height:a?2:"100%",width:a?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...i},j={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:a?"rotate(90deg)":void 0,...r};return o.jsxs("div",{...p,className:e,style:m,children:[o.jsx("div",{className:"__rcs-handle-line",style:v}),o.jsxs("div",{className:"__rcs-handle-button",style:j,children:[o.jsx(H,{}),o.jsx(H,{flip:!0})]}),o.jsx("div",{className:"__rcs-handle-line",style:v})]})},G=(e=>(e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e))(G||{}),de=({boxSizing:e="border-box",objectFit:s="cover",objectPosition:r="center center",...i}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:e,objectFit:s,objectPosition:r,...i}),ue=e=>{let s=t.useRef(e);return t.useEffect(()=>{s.current=e}),s.current},W=(e,s,r,i)=>{let a=t.useRef();t.useEffect(()=>{a.current=s},[s]),t.useEffect(()=>{if(!(r&&r.addEventListener))return;let d=p=>a.current&&a.current(p);return r.addEventListener(e,d,i),()=>{r.removeEventListener(e,d,i)}},[e,r,i])},he=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect,pe=(e,s)=>{let r=t.useRef(),i=t.useCallback(()=>{e.current&&r.current&&r.current.observe(e.current)},[e]);he(()=>(r.current=new ResizeObserver(([a])=>s(a.contentRect)),i(),()=>{r.current&&r.current.disconnect()}),[s,i])},z={capture:!1,passive:!0},D={capture:!0,passive:!1},fe=e=>{e.preventDefault(),e.currentTarget.focus()},K=t.forwardRef(({boundsPadding:e=0,browsingContext:s=globalThis,changePositionOnHover:r=!1,disabled:i=!1,handle:a,itemOne:d,itemTwo:p,keyboardIncrement:m="5%",onlyHandleDraggable:v=!1,onPositionChange:j,portrait:l=!1,position:C=50,style:Y,transition:q,...J},Q)=>{let f=t.useRef(null),U=t.useRef(null),x=t.useRef(null),b=t.useRef(C),[E,P]=t.useState(!1),[Z,N]=t.useState(!0),A=t.useRef(!1),[V,ee]=t.useState(),T=ue(C),u=t.useCallback(function({x:n,y:c,isOffset:h}){let g=f.current,S=x.current,L=U.current,{width:R,height:w,left:ie,top:ae}=g.getBoundingClientRect();if(R===0||w===0)return;let le=l?h?c-ae-s.scrollY:c:h?n-ie-s.scrollX:n,B=Math.min(Math.max(le/(l?w:R)*100,0),100),O=l?w/(g.offsetHeight||1):R/(g.offsetWidth||1),F=e*O/(l?w:R)*100,_=Math.min(Math.max(B,F*O),100-F*O);b.current=B,S.setAttribute("aria-valuenow",`${Math.round(b.current)}`),S.style.top=l?`${_}%`:"0",S.style.left=l?"0":`${_}%`,L.style.clipPath=l?`inset(${_}% 0 0 0)`:`inset(0 0 0 ${_}%)`,j&&j(b.current)},[e,j,l,s]);t.useEffect(()=>{let{width:n,height:c}=f.current.getBoundingClientRect(),h=C===T?b.current:C;u({x:n/100*h,y:c/100*h})},[e,C,l,T,u]);let te=t.useCallback(n=>{n.preventDefault(),!(i||n.button!==0)&&(u({isOffset:!0,x:n.pageX,y:n.pageY}),P(!0),N(!0))},[i,u]),y=t.useCallback(function(n){u({isOffset:!0,x:n.pageX,y:n.pageY}),N(!1)},[u]),k=t.useCallback(()=>{P(!1),N(!0)},[]),re=t.useCallback(({width:n,height:c})=>{let{width:h,height:g}=f.current.getBoundingClientRect();u({x:n/100*b.current*h/n,y:c/100*b.current*g/c})},[u]),ne=t.useCallback(n=>{if(!Object.values(G).includes(n.key))return;n.preventDefault(),N(!0);let{top:c,left:h}=x.current.getBoundingClientRect(),{width:g,height:S}=f.current.getBoundingClientRect(),L=typeof m=="string"?parseFloat(m):m/g*100,R=l?n.key==="ArrowLeft"||n.key==="ArrowDown":n.key==="ArrowRight"||n.key==="ArrowUp",w=Math.min(Math.max(R?b.current+L:b.current-L,0),100);u({x:l?h:g*w/100,y:l?S*w/100:c})},[m,l,u]);t.useEffect(()=>{ee(v?x.current:f.current)},[v]),t.useEffect(()=>{let n=f.current,c=()=>{E||k()};return r&&(n.addEventListener("pointermove",y,z),n.addEventListener("pointerleave",c,z)),()=>{n.removeEventListener("pointermove",y),n.removeEventListener("pointerleave",c)}},[r,y,k,E]),t.useEffect(()=>(E&&!A.current&&(s.addEventListener("pointermove",y,z),s.addEventListener("pointerup",k,z),A.current=!0),()=>{A.current&&(s.removeEventListener("pointermove",y),s.removeEventListener("pointerup",k),A.current=!1)}),[y,k,E,s]),t.useImperativeHandle(Q,()=>({rootContainer:f.current,handleContainer:x.current,setPosition(n){let{width:c,height:h}=f.current.getBoundingClientRect();u({x:c/100*n,y:h/100*n})}}),[u]),pe(f,re),W("keydown",ne,x.current,D),W("click",fe,x.current,D),W("pointerdown",te,V,D);let se=a||o.jsx(ce,{disabled:i,portrait:l}),$=Z?q:void 0,oe={position:"relative",display:"flex",overflow:"hidden",cursor:E?l?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...Y};return o.jsxs("div",{...J,ref:f,style:oe,"data-rcs":"root",children:[d,o.jsx(I,{ref:U,transition:$,children:p}),o.jsx(X,{disabled:i,portrait:l,position:Math.round(b.current),ref:x,transition:$,children:se})]})});K.displayName="ReactCompareSlider";var M=t.forwardRef(({style:e,...s},r)=>{let i=de(e);return o.jsx("img",{ref:r,...s,style:i,"data-rcs":"image"})});M.displayName="ReactCompareSliderImage";const ge=({before:e="",after:s="",altBefore:r="Antes",altAfter:i="Después",label:a="",title:d="",description:p="",procedure:m="",className:v=""})=>o.jsxs("article",{className:`bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 ${v}`,"aria-label":d||a||"Comparación antes y después",children:[o.jsxs("div",{className:"relative",children:[a?o.jsx("div",{className:"absolute z-10 top-3 left-3 bg-white/10 backdrop-blur-sm text-white text-xs font-semibold px-3 py-1 rounded-lg border border-white/8 shadow-sm",children:a}):null,o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50",children:o.jsx(K,{itemOne:o.jsx(M,{src:e,alt:r}),itemTwo:o.jsx(M,{src:s,alt:i}),style:{height:"100%",touchAction:"none"}})})]}),o.jsxs("div",{className:"p-5",children:[d?o.jsx("h3",{className:"text-gray-900 font-semibold text-lg leading-snug",children:d}):null,p?o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:p}):null,m?o.jsxs("div",{className:"mt-4 bg-gray-50 border border-gray-100 p-3 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-800",children:"Procedimiento"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:m})]}):null]})]});export{ge as default};
